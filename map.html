<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body,
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }

        #map {
            height: 100vh;
            width: 100%;
            position: absolute;
            left: 0;
            top: 0;
        }

        .header {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
            z-index: 50;
            padding: 16px 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .title {
            font-size: 2rem;
            font-weight: 700;
            color: #ffffff;
            letter-spacing: 2px;
        }

        .nav-item {
            position: relative;
            margin-left: 16px;
        }

        .nav-button {
            color: #ffffff;
            padding: 8px 16px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-button:hover {
            color: #gray-400;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            background: #ffffff;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            z-index: 1001;
        }

        .dropdown-menu a {
            display: block;
            padding: 10px 20px;
            color: #000;
            text-decoration: none;
            font-weight: bold;
        }

        .dropdown-menu a:hover {
            background-color: #f0f0f0;
        }

        .nav-item:hover .dropdown-menu {
            display: block;
        }

        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100px;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 50;
            color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transform: translateX(-100px);
            transition: transform 0.3s ease;
        }

        .sidebar:hover {
            transform: translateX(0);
        }

        .sidebar button {
            background: transparent;
            border: none;
            color: #ffffff;
            margin: 15px 0;
            cursor: pointer;
            font-size: 18px;
        }

        .sidebar button:hover {
            color: #cccccc;
        }

        /* Calendar styles */
        .calendar-container {
            margin-left: 16px;
        }

        #datepicker {
            margin: 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        /* Animated search bar styles */
        .search-container {
            position: relative;
            margin-left: 16px;
        }

        #searchBar {
            width: 0;
            padding: 8px;
            font-size: 1rem;
            border: 1px solid #ccc;
            border-radius: 25px;
            background: white;
            color: #333;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: width 0.4s ease;
            overflow: hidden;
        }

        #searchButton {
            position: absolute;
            top: 0;
            right: -45px;
            background: none;
            border: none;
            cursor: pointer;
        }

        #searchButton img {
            width: 24px;
            height: 24px;
        }

        .search-container:hover #searchBar {
            width: 200px;
            padding: 8px 16px;
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="title">The Third Place</div>
        <nav class="flex">
            <div class="nav-item dropdown">
                <button class="nav-button">Events</button>
                <div class="dropdown-menu">
                    <a href="#">Event 1</a>
                    <a href="#">Event 2</a>
                </div>
            </div>

            <div class="calendar-container">
                <input type="date" id="datepicker">
            </div>

            <div class="search-container">
                <input type="text" id="searchBar" placeholder="Search...">
                <button id="searchButton">
                    <img src="https://cdn-icons-png.flaticon.com/512/622/622669.png" alt="Search">
                </button>
            </div>
        </nav>
    </header>

    <div id="map"></div>

    <div class="sidebar">
        <button id="zoomIn">+</button>
        <button id="zoomOut">-</button>
        <button id="mapType">Map</button>
        <button id="fullscreen">Fullscreen</button>
    </div>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyApQ69Gof0vmLodUQVU0_ZzfR05Nj82OAQ"></script>
    <script>
        function initMap() {
            const mapCenter = { lat: 38.4237, lng: 27.1428 };

            const map = new google.maps.Map(document.getElementById('map'), {
                center: mapCenter,
                zoom: 14,
                disableDefaultUI: true
            });

            const themes = {
                default: [],
                night: [/* night mode styles here */],
                retro: [/* retro mode styles here */],
                futuristic: [/* futuristic mode styles here */]
            };

            function setMapTheme(theme) {
                map.setOptions({ styles: themes[theme] || [] });
            }

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function (position) {
                        const userLocation = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        map.setCenter(userLocation);
                        const marker = new google.maps.Marker({
                            position: userLocation,
                            map: map,
                            title: "You are here!",
                            icon: {
                                url: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png',
                                scaledSize: new google.maps.Size(50, 50),
                                labelOrigin: new google.maps.Point(25, 25)
                            },
                        });

                        function toggleBounce() {
                            marker.setAnimation(google.maps.Animation.BOUNCE);
                            setTimeout(() => {
                                marker.setAnimation(null);
                            }, 5000);
                        }

                        toggleBounce();
                        setInterval(toggleBounce, 8000);
                    },
                    function (error) {
                        console.error('Error occurred. Error code: ' + error.code);
                    }
                );
            }

            document.getElementById('defaultTheme').addEventListener('click', () => setMapTheme('default'));
            document.getElementById('nightTheme').addEventListener('click', () => setMapTheme('night'));
            document.getElementById('retroTheme').addEventListener('click', () => setMapTheme('retro'));
            document.getElementById('futuristicTheme').addEventListener('click', () => setMapTheme('futuristic'));
        }

        window.onload = initMap;
    </script>
</body>

</html>
